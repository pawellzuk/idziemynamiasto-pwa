<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Wydarzenia kulturalne w Lublinie - filmy, wystawy, spektakle, koncerty">
  <meta name="theme-color" content="#E91E63">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Idziemy na miasto - Lublin</title>
  <link rel="manifest" href="manifest.json">
  <link rel="icon" type="image/svg+xml" href="icons/icon-192.svg">
  <link rel="apple-touch-icon" href="icons/icon-192.svg">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- Header -->
  <header class="app-header">
    <div class="header-content">
      <h1 class="logo">Na miasto <span class="logo-city">Lublin</span></h1>
      <div class="header-actions">
        <button id="btn-theme" class="icon-btn" aria-label="Przelacz motyw" title="Przelacz motyw">
          <svg class="icon-sun" viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
          </svg>
          <svg class="icon-moon" viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
          </svg>
        </button>
        <button id="btn-install" class="install-btn hidden" aria-label="Zainstaluj aplikacje">Zainstaluj</button>
      </div>
    </div>
  </header>

  <!-- Navigation tabs -->
  <nav class="tab-nav">
    <button class="tab-btn active" data-tab="events">Wydarzenia</button>
    <button class="tab-btn" data-tab="favorites">Ulubione</button>
    <button class="tab-btn" data-tab="map">Mapa</button>
  </nav>

  <!-- Search & Filters -->
  <div class="filters-bar" id="filters-bar">
    <div class="search-wrap">
      <input type="search" id="search-input" placeholder="Szukaj wydarzen..." autocomplete="off">
    </div>
    <div class="filter-chips">
      <button class="chip active" data-type="all">Wszystkie</button>
      <button class="chip" data-type="film">Film</button>
      <button class="chip" data-type="wystawa">Wystawa</button>
      <button class="chip" data-type="spektakl">Spektakl</button>
      <button class="chip" data-type="teatr">Teatr</button>
      <button class="chip" data-type="koncert">Koncert</button>
      <button class="chip" data-type="inne">Inne</button>
    </div>
    <div class="date-filters">
      <button class="date-chip active" data-date="all">Wszystkie daty</button>
      <button class="date-chip" data-date="today">Dzis</button>
      <button class="date-chip" data-date="tomorrow">Jutro</button>
      <button class="date-chip" data-date="week">Ten tydzien</button>
    </div>
  </div>

  <!-- Main content -->
  <main>
    <!-- Events tab -->
    <section id="tab-events" class="tab-content active">
      <div class="events-count" id="events-count"></div>
      <div class="events-grid" id="events-grid">
        <!-- Events rendered by JS -->
      </div>
      <div class="loading" id="loading">
        <div class="spinner"></div>
        <p>Ladowanie wydarzen...</p>
      </div>
      <div class="error hidden" id="error">
        <p>Nie udalo sie pobrac wydarzen.</p>
        <button id="btn-retry" class="retry-btn">Sprobuj ponownie</button>
      </div>
      <div class="empty hidden" id="empty">
        <p>Brak wydarzen pasujacych do filtrow.</p>
      </div>
    </section>

    <!-- Favorites tab -->
    <section id="tab-favorites" class="tab-content hidden">
      <div class="events-grid" id="favorites-grid"></div>
      <div class="empty-favorites hidden" id="empty-favorites">
        <p>Nie masz jeszcze ulubionych wydarzen.</p>
        <p class="hint">Kliknij serduszko na wydarzeniu, aby je dodac.</p>
      </div>
    </section>

    <!-- Map tab -->
    <section id="tab-map" class="tab-content hidden">
      <div id="map-container"></div>
    </section>
  </main>

  <!-- Scripts -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
  <script src="js/events.js"></script>
  <script src="js/favorites.js"></script>
  <script src="js/filters.js"></script>
  <script src="js/map.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
